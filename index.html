<!DOCTYPE html>
<html>
<head>
	<title>Lino - Scratch Trainer</title>
	
	<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

	<link rel="icon" type="image/x-icon" href="icons/favicon.ico">
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<link rel="manifest" href="manifest.json" />
	
	<script class="jsbin" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<!-- 	<script class="jsbin" src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>
	<script class="jsbin" src="//rawgit.com/jquery/jquery-ui/1-11-stable/external/jquery-simulate/jquery.simulate.js"></script> -->
	<script type="text/javascript" src="js/local_storage.js"></script>
	<script type="text/javascript" src="js/serviceworker.js"></script>

	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
</head>
<body class="black">
	<style id="custom-styling"></style>
	<div id="menu" class="conf-element">
		<div class="setting-container center">
			<img class="menu-item" data-click-action="loops" src="img/loops_section.svg">
			<img class="menu-item" data-click-action="playlist" src="img/music.svg">
			<img class="menu-item" data-click-action="playback-rate" src="img/speed.svg">
			<br class="small-devices">
			<img class="menu-item" data-click-action="rate-auto" src="img/rate_white.svg">
			<img class="menu-item" data-click-action="theme" src="img/theme_white.svg">
		</div>
	</div>
	<div id="loops" class="conf-element">
		<div class="playlist-items-container">
			<p class="playlist-title">Loops</p>
			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track loop" data-track-file="track-loop3-82" src="img/play.svg">
				</div>
				<label>82 BPM</label>
			</div>
			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track loop" data-track-file="track-loop10-83" src="img/play.svg">
				</div>
				<label>83 BPM</label>
			</div>
			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track loop" data-track-file="track-loop1-85" src="img/play.svg">
				</div>
				<label>85 BPM</label>
			</div>
			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track loop" data-track-file="track-loop14-87" src="img/play.svg">
				</div>
				<label>87 BPM</label>
			</div>
			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track loop" data-track-file="track-loop16-89" src="img/play.svg">
				</div>
				<label>89 BPM</label>
			</div>
			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track loop" data-track-file="track-loop2-100" src="img/play.svg">
				</div>
				<label>100 BPM</label>
			</div>
			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track loop" data-track-file="track-loop11-119" src="img/play.svg">
				</div>
				<label>119 BPM</label>
			</div>
			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track loop" data-track-file="track-loop15-123" src="img/play.svg">
				</div>
				<label>123 BPM</label>
			</div>
			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track loop" data-track-file="track-loop18-125" src="img/play.svg">
				</div>
				<label>125 BPM</label>
			</div>
			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track loop" data-track-file="track-loop5-125" src="img/play.svg">
				</div>
				<label>125 BPM</label>
			</div>
			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track loop" data-track-file="track-loop12-127" src="img/play.svg">
				</div>
				<label>127 BPM</label>
			</div>
			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track loop" data-track-file="track-loop7-130" src="img/play.svg">
				</div>
				<label>130 BPM</label>
			</div>
		</div>
	</div>
		<!-- <p class="playlist-separator"></p><br> -->

	<div id="playlist" class="conf-element">
		<div class="playlist-items-container">
			<p class="playlist-title">Instrumentals</p>

			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track instrumental" data-track-title="Get Down" data-track-artist="XL Beats" data-track-file="track-instrumental1" src="img/play.svg">
				</div>
				<label>Funky</label>
			</div>
			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track instrumental" data-track-title="Fast" data-track-artist="IV Eight" data-track-file="track-instrumental11" src="img/play.svg">
				</div>
				<label>DnB</label>
			</div>
			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track instrumental" data-track-title="Smoke" data-track-artist="XL Beats" data-track-file="track-instrumental3" src="img/play.svg">
				</div>
				<label>808</label>
			</div>
			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track instrumental" data-track-title="Gritty" data-track-artist="J2" data-track-file="track-instrumental5" src="img/play.svg">
				</div>
				<label>Classic</label>
			</div>
			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track instrumental" data-track-title="Sax" data-track-artist="Bargholz" data-track-file="track-instrumental6" src="img/play.svg">
				</div>
				<label>Jazzy</label>
			</div>
			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track instrumental" data-track-title="1998" data-track-artist="Raias Beats" data-track-file="track-instrumental7" src="img/play.svg">
				</div>
				<label>BoomBap</label>
			</div>
			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track instrumental" data-track-title="Bubbles" data-track-artist="XL Beats" data-track-file="track-instrumental2" src="img/play.svg">
				</div>
				<label>Club</label>
			</div>
			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track instrumental" data-track-title="Denzel" data-track-artist="Distro" data-track-file="track-instrumental8" src="img/play.svg">
				</div>
				<label>Bass</label>
			</div>
			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track instrumental" data-track-title="Gangsta Funk" data-track-artist="Artacho" data-track-file="track-instrumental9" src="img/play.svg">
				</div>
				<label>G-Funk</label>
			</div>
			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track instrumental" data-track-title="Funky" data-track-artist="KIING.D" data-track-file="track-instrumental10" src="img/play.svg">
				</div>
				<label>Elec. Funk</label>
			</div>
			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track instrumental" data-track-title="West Coast" data-track-artist="Sosa" data-track-file="track-instrumental12" src="img/play.svg">
				</div>
				<label>West Coast</label>
			</div>
			<div class="playlist-item">
				<div class="track-container">
					<img class="menu-item track instrumental" data-track-title="Tiger" data-track-artist="XL Beats" data-track-file="track-instrumental4" src="img/play.svg">
				</div>
				<label>Indian</label>
			</div>
		</div>

		<p class="playlist-separator"></p>


		<button class="file-upload-btn" type="button" onclick="$('.file-upload-input').trigger( 'click' )">Browse Device</button>
		<input id="audio-upload" class="file-upload-input" type='file' accept="file/*" />
	</div>

	<div id="waveform" class="conf-element">
		<div class="please-track">
			<p>Please choose a track</p>
			<div class="please-track-opacity"></div>
		</div>
		<div class="audio-player">
	        <div class="player-body">
				<p class="title"><span id="track-artist">Artist</span> - <span id="track-title">Track Title</span></p>
				<div id="waveform2" class="waveform"></div>
	          
				<div class="controls" style="margin-top: -4em;">
	          		<div id="controls-play" class="controls">
	          	        <button id="playButton" class="play-button">
	          	          <img id="playButtonIcon" class="play-button-icon" src="img/play_white.svg" width="20px" />
	          	        </button>
	          	    </div>
		          	<div class="controls">
		          		<button id="volume-button">
							<img id="volumeIcon" class="volume-icon" src="img/volume_white.svg" alt="Volume" />
		          		</button>
		          	  <input id="volumeSlider" class="volume-slider" type="range" name="volume-slider" min="0" max="100" value="50" />
		          	</div>
		            <div class="timecode">
						<span id="currentTime">00:00:00</span>
						<span>/</span>
						<span id="totalDuration">00:00:00</span>
		            </div>
          		</div>

				<div class="center">
					<img id="zoomout" class="zoom" src="img/zoom_out.svg">
					<input id="slider" data-action="zoom" type="range" min="20" max="1000" value="0" style="width: 80%">
					<img id="zoomin" class="zoom" src="img/zoom_in.svg">
				</div>
	        </div>
      	</div>
	</div>
	<script type="text/javascript">
		zoom = 0.;
		document.getElementById("zoomin").onclick = () => {
		  zoom = ++zoom;
		  console.log(zoom)
		  wavesurfer.zoom(zoom);
		};

		document.getElementById("zoomout").onclick = () => {
		  if (zoom === 0) {
		  	return;
		  }
		  zoom = --zoom;
		  wavesurfer.zoom(zoom);
		};

		document.querySelector('#slider').oninput = function () {
		    wavesurfer.zoom(Number(this.value));
		};
	</script>
	<div id="playback-rate" class="conf-element rate-container">
	  <p for="rate">Adjust playback rate:</p>
	  <input id="rate" type="range" min="0.25" max="3" step="0.01" value="1" />
	  <div class="pitch">
	  	<label for="pitch">Preserve<br>track pitch:</label>
	  	<input type="checkbox" id="pitch" name="pitch" checked />
	  </div>
	  <div class="info-text">
	  	Current: <span id="current-pitch">1</span>
	  </div>
	  <div class="center">
	  	<button class="rate-reset" onclick="rateReset()">Reset</button>
	  </div>
	</div>

	<div id="rate-auto" class="conf-element">
		<div class="growth">
			<div class="rate-settings-container center">
				<div class="rate-settings">
					<span class="rate-title">Increase Rate by:</span>
					<br>
					<button onclick="decreaseRate()">-</button>
					<input id="rate-growth" class="styled" type="number" name="rate-growth" value="0.01">
					<button onclick="increaseRate()">+</button>
				</div>
				<div>
					<span class="info-text">(minimum unit 0.01)</span>
				</div>
			</div>
			<div class="rate-settings-container center">
				<div class="rate-settings">
					<span class="rate-title">every</span>
					<br>
					<button onclick="decreaseRateTime()">-</button>
					<input id="seconds-growth" class="styled" type="number" name="seconds-growth" value="1">
					<button onclick="increaseRateTime()">+</button>
					<br>
					<span class="rate-title">seconds</span>
				</div>
			</div>
		</div>
		
		<div class="growth center">
			<button id="start-auto-rate" onclick="startAutoRate()">AUTO!</button>
			<button id="stop-auto-rate" disabled onclick="stopAutoRate()">STOP!</button>
		</div>
	</div>

	<div id="theme" class="conf-element center">
		<div class="theme-selector">
			<span>Change theme color</span>
		</div>
		<div>
			<div class="theme-color black" data-color="black"></div>
			<div class="theme-color blue" data-color="blue"></div>
			<div class="theme-color green" data-color="green"></div>
			<div class="theme-color gray" data-color="gray"></div>
			<div class="theme-color purple" data-color="purple"></div>
		</div>

		<div class="custom">
			<button onclick="customSettings()">Go custom!</button>
			<div id="custom-settings">
				<div class="custom-setting">
					<span>Background</span>
					<input type="color" id="picker-background" class="custom-picker" data-var-key="background" value="#ffffff">
				</div>
	    		<div class="custom-setting">
	    			<span>Text color</span>
	    			<input type="color" id="picker-text-color" class="custom-picker" data-var-key="text-color" value="#ffffff">
	    		</div>
	    		<div class="custom-setting">
	    			<span>Main background</span>
	    			<input type="color" id="picker-main-background" class="custom-picker" data-var-key="main-background" value="#ffffff">
	    		</div>
	    		<div class="custom-setting">
	    			<span>Main border</span>
	    			<input type="color" id="picker-main-border" class="custom-picker" data-var-key="main-border" value="#ffffff">
	    		</div>
	    		<div class="custom-setting">
	    			<span>Main background hover</span>
	    			<input type="color" id="picker-main-background-hover" class="custom-picker" data-var-key="main-background-hover" value="#ffffff">
	    		</div>
	    		<div class="custom-setting">
	    			<span>Main border hover</span>
	    			<input type="color" id="picker-main-border-hover" class="custom-picker" data-var-key="main-border-hover" value="#ffffff">
	    		</div>

	    		<button onclick="customPickerStyling()">Save</button>
			 </div>
		</div>
	</div>

	<script type="text/javascript" src="js/constants.js"></script>
	<script type="text/javascript" src="js/main.js"></script>
	<!-- <script type="text/javascript" src="js/wavesurfer.js"></script> -->
	<!-- <script src="https://unpkg.com/wavesurfer.js@4.6.0/dist/wavesurfer.js"></script> -->
	<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/7.8.1/wavesurfer.min.js" integrity="sha512-/w1TrbQj6MjxduJ6T2AZZILvhxWmdbWaJFT9+C4bd3hqJCPJ6fFi6wHC67zHolLyhncR4SAP+8jwKzmOjwHBhw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> -->


	<script src="https://cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/1.2.3/wavesurfer.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/1.2.3/plugin/wavesurfer.regions.min.js"></script>


	<script type="text/javascript" src="js/waveform.js"></script>


</body>
</html>